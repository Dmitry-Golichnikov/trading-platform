# Генерация признаков

## Назначение
Создание информативных признаков на основе подготовленных данных для последующего обучения моделей. Включает расчёт индикаторов, агрегацию по таймфреймам и интеграцию внешних сигналов.

## Этапы
1. **Признаки текущего таймфрейма**
   - Технические индикаторы (осцилляторы, трендовые, волатильность).
   - Ценовые/микроструктурные признаки (свечи, gap, spread/body).
   - Объёмный и order-flow анализ (delta, VWAP, footprint).
2. **Multi-timeframe признаки**
   - Агрегация на старших таймфреймах (1h, 4h, 1d).
   - As-of join для синхронизации с основной частотой.
3. **Календарные и тикерные признаки**
   - One-hot/циклические календарные фичи.
   - Метаданные инструментов (сектор, ликвидность, валюта).
4. **Внешние источники**
   - Индексы, макроэкономика, sentiment, correlated markets.
   - Интеграция через API или внешние CSV.

## Параметры конфигурации
- `feature_sets`: список модулей/конфигов с параметрами.
- `lag`: количество баров задержки (чтобы исключить look-ahead).
- `normalize`: настройки нормализации внутри генерации (скользящие средние, scaling).
- `cache`: включение кеширования этапов (Parquet/Feather).

## Артефакты
- Сгенерированные features в `features/` (Parquet/Feather).
- Логи с параметрами вычисленных индикаторов.
- Диагностика: распределения, корреляции, importance без модели.

## Рекомендации
- Стандартизовать API генераторов (input df → output df), использовать pipeline-ориентированную реализацию.
- Следить за каузальностью (использовать `shift(1)` при необходимости).
- Вести каталог признаков (feature store) с версиями и описаниями.
