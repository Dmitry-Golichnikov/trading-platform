# Трейлинг-стоп

## Назначение
Плавающий стоп-лосс, который подтягивается за ценой в сторону прибыли и фиксирует часть результата при развороте. Позволяет «схватить» длинное движение и выйти при откате.

## Варианты
- **Процентный**: стоп смещается на `k%` от текущей максимальной/минимальной цены.
- **ATR/волатильностный**: `trail = k * ATR`; уровень пересчитывается при каждом баре.
- **Ступенчатый**: подтягивание на фиксированное количество пунктов после прохождения ценой определённых уровней.
- **Модельный**: trailing по сигналам индикатора (например, Parabolic SAR).

## Параметры
- `type`: `percent`, `atr`, `step`, `indicator`.
- `distance`: процент/множитель/шаг.
- `atr_period`: окно для расчёта ATR.
- `step_trigger`: расстояние между ступенями.
- `update_frequency`: каждый бар, каждые N баров, на тиковой базе.
- `execution`: market/limit при срабатывании.

## Рекомендации
- Сочетать с тейк-профитом (выход по первой сработке).
- Логировать обновления trailing уровня для анализа.
- Учитывать возможность «шумового» срабатывания: применяйте фильтры (минимальный шаг, фильтр волатильности).
