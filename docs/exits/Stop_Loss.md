# Стоп-лосс

## Назначение
Ограничение убытков при неблагоприятном движении цены. Срабатывает, если цена достигает заранее заданного уровня.

## Варианты
- **Процентный**: фиксированное снижение (например, −0.8%).
- **Адаптивный по ATR/волатильности**: `entry_price − k * ATR`.
- **Волатильностные/структурные уровни**: ниже локального минимума, уровня поддержки, VWAP.
- **Модельный стоп**: по сигналу модели/индикатора (внекаузальный выход).

## Параметры
- `type`: `percent`, `atr`, `support_level`, `model_based`.
- `value`: целевой процент или множитель ATR.
- `atr_period`, `support_lookback`.
- `hard_stop`: обязательное исполнение (market) или `soft` (limit/iceberg).

## Рекомендации
- Логировать, если стоп срабатывает одновременно с тейк-профитом (правило «срабатывает стоп»).
- Проверять impact комиссий/слиппажа и учитывать в моделировании.
- Использовать `trailing` параметр для превращения в плавающий стоп.
