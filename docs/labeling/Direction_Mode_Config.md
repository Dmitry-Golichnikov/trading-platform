# Режимы направленности

## Назначение
Определяют, какие классы таргета формируются: только long, только short или оба направления. Влияют на схему меток, функции потерь и метрики.

## Варианты
- `long_only`: таргеты `1` (вход long) и `0` (нет сигнала).
- `short_only`: таргеты `-1` или `1` для short, `0` для отсутствия сигнала.
- `long_short`: трёхклассовая схема `1` (long), `-1` (short), `0` (flat).
- `multi_class`: расширенные классы (например, `buy`, `hold`, `sell`).
- `binary_indicator`: сигнал индикатора `on/off`.

## Параметры
- `mode`: `long_only` | `short_only` | `long_short` | `multi_class`.
- `label_mapping`: словарь «событие → метка».
- `weighting`: веса классов для дисбаланса.
- `filter_conditions`: условия включения/исключения (например, торгуем только long при высоком тренде).

## Рекомендации
- Фиксировать схему меток в конфиге, чтобы функции потерь корректно обрабатывали классы.
- Для мультиклассовых задач использовать cross-entropy или ordinal loss.
- Согласовать с downstream пайплайнами (backtest должен знать, что метка `-1` означает short).
