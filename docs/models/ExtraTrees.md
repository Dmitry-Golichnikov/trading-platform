# Extra Trees (Extremely Randomized Trees)

## Назначение
Ансамбль деревьев решений с максимальной стохастизацией сплитов. Подходит для задач прогнозирования направлений (long/short) с высокой устойчивостью к шуму и переобучению.

## Ключевые особенности
- Сплиты выбираются случайно, что снижает дисперсию и уменьшает переобучение.
- Работает быстро за счёт отсутствия поиска оптимального порога разделения.
- Предоставляет оценки важности признаков, полезные для отбора индикаторов.

## Типичные гиперпараметры
- `n_estimators`: количество деревьев.
- `max_depth`, `max_features`, `min_samples_split`, `min_samples_leaf`: контроль сложности.
- `bootstrap`: опциональное использование бэггинга.
- `class_weight`: балансировка long/short.

## Требования к данным
- Нормализация не обязательна, но может помочь при сильных выбросах.
- Для long-only или short-only задач формируйте соответствующий таргет.
- Требуется достаточное количество данных для снижения дисперсии ансамбля.

## Метрики и валидация
- Accuracy, F1, ROC-AUC, а также трейдинговые метрики.
- Walk-forward или time-series CV для оценки устойчивости.
- Отслеживание важности признаков между сплитами для диагностики.

## Интеграция в конвейер
- Использовать `ExtraTreesClassifier` в унифицированном интерфейсе.
- Сохранять модель и статистику важности.
- Применять как robust-бейзлайн перед более сложными архитектурами.

## Ограничения и рекомендации
- Может давать менее гладкие прогнозы из-за сильной стохастики.
- Не обеспечивает высокую интерпретируемость индивидуальных деревьев.
- Рекомендуется комбинировать с калибровкой вероятностей для точных торговых сигналов.
