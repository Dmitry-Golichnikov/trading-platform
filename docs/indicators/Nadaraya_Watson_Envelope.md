# Nadaraya-Watson Envelope

## Назначение
Nadaraya-Watson Envelope строит сглаженные ценовые каналы на основе ядровой регрессии, обеспечивая адаптивную оценку диапазона цены.

## Расчёт
```
m(x) = Σ K((x - x_i)/h) * Price_i / Σ K((x - x_i)/h)
Upper = m(x) + k * σ(x)
Lower = m(x) - k * σ(x)
```
где `K` — ядровая функция (обычно гауссовская), `h` — bandwidth, `σ(x)` — локальное стандартное отклонение.

## Основные параметры
- `kernel` — тип ядра (Gaussian, Epanechnikov и др.).
- `bandwidth` — ширина окна сглаживания.
- `multiplier` — коэффициент для расчёта верхней/нижней границы.

## Интерпретация
- Цена выше/ниже канала указывает на аномальное движение.
- Ширина канала отражает локальную волатильность.
- Подходит для адаптивных стратегий, где статичные скользящие средние неэффективны.

## Применение в системе
- Признаки: средняя линия, границы канала, ширина, отклонение цены.
- Фильтрация сигналов: вход только при подтверждении адаптивными границами.
- Настройка параметров через конфигурации с поддержкой вариативности.

## Ограничения и рекомендации
- Расчёт вычислительно затратен, особенно для больших данных.
- Требует аккуратного выбора bandwidth; возможно использование методов оптимизации.
